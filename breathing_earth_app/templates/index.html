{% extends "layout.html" %} {% block body %}
<div class="container">
    <!-- Google Map Content -->
    <div class="row subsection">
        <div class="box">
            <div id="map"></div>
            <br />
            <div style="width: 53%; margin: 0 auto;">
                <p>
                    <label for="amount">Year:</label>
                    <input type="text" id="amount" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="slider"></div>
                <br />
                <button id="play_btn" class="btn btn-success">Play</button>
            </div>
            <br />
            <table id="datatable" class="text-center table table-striped">
                <thead>
                    <tr>
                        <th>GPS Name</th>
                        <th>Lat</th>
                        <th>Lng</th>
                        <th>Change</th>
                    </tr>
                </thead>
            </table>
        </div>
    </div>
    <!-- Data plots -->
    <div class="row subsection">
        <div class="box">
            <div class="col-lg-12">
                <h2>Data Plots</h2>
            </div>
            <hr />
            <!-- TODO: Turn this into repeater using angular/jquery/handlebars... -->
            <div class="col-lg-4 col-sm-6 text-center">
                <img class="img-responsive img-center" src="https://raw.githubusercontent.com/ginaschmalzle/BreathingEarth/master/data_retrieval_storage/code/utils/figures/pnw_ts/time_series_0.png?raw=true" alt="">
                <small>Plot 1</small>
            </div>
            <div class="col-lg-4 col-sm-6 text-center">
                <img class="img-responsive img-center" src="https://raw.githubusercontent.com/ginaschmalzle/BreathingEarth/master/data_retrieval_storage/code/utils/figures/pnw_ts/time_series_1.png?raw=true" alt="">
                <small>Plot 2</small>
            </div>
            <div class="col-lg-4 col-sm-6 text-center">
                <img class="img-responsive img-center" src="https://raw.githubusercontent.com/ginaschmalzle/BreathingEarth/master/data_retrieval_storage/code/utils/figures/pnw_ts/time_series_2.png?raw=true" alt="">
                <small>Plot 3</small>
            </div>
            <div class="col-lg-4 col-sm-6 text-center">
                <img class="img-responsive img-center" src="https://raw.githubusercontent.com/ginaschmalzle/BreathingEarth/master/data_retrieval_storage/code/utils/figures/pnw_ts/time_series_3.png?raw=true" alt="">
                <small>Plot 4</small>
            </div>
        </div>
    </div>
    <!-- Our Team -->
    <div class="row subsection ourTeam">
        <div class="box" style="height:100%;">
            <div class="col-lg-12">
                <h2>Our Team</h2>
            </div>
            <hr />
            <!-- TODO: save linkedin images locally or create static for presentation without internet. Could also add repeater here to allow more members at a later date -->
            <div class="col-lg-4 col-sm-6 text-center">
                <img class="img-circle img-responsive img-center" src="https://media.licdn.com/media/p/4/005/05d/0db/3cc1f0d.jpg" alt="">
                <h3>Gina Schmalzle<br /><small>Data Scientist</small></h3>
                <p>What does this team member to? Keep it short! This is also a great spot for social links!</p>
            </div>
            <div class="col-lg-4 col-sm-6 text-center">
                <img class="img-circle img-responsive img-center" src="https://media.licdn.com/mpr/mpr/shrinknp_400_400/p/5/005/06d/16d/1665555.jpg" alt="">
                <h3>David White<br /><small>Software Engineer</small></h3>
                <p>What does this team member to? Keep it short! This is also a great spot for social links!</p>
            </div>
        </div>
    </div>
</div>
<!-- Load Data -->
<script src="{{ url_for('static', filename='js/loadPoints.js') }}"></script>
<!-- Google Maps -->
<script async defer src="https://maps.googleapis.com/maps/api/js?key=&callback=initMap"></script>
<script>
$(function() {
    document.querySelector("#play_btn").addEventListener("click", function() {
        var x = $("#slider").slider("value");

        // Called the function in each second
        var interval = setInterval(function() {
            $("#amount").val(x);
            $("#slider").slider('value', x);
            console.log(x);

            x++;
            if (x > 2016) {
                clearInterval(interval); // If exceeded 100, clear interval
            }
        }, 1000); // Run for each second
    });
});

$( "#slider" ).on( "slidechange", function( event, ui ) { 
    var date = datelistArray[ui.value];
    parsePointsInDate(date);
    fillTableAndPlotPoints();

});
</script>
{% endblock %}
